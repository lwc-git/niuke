1.TCP/IP是什么
    TCP/IP协议模型，包含了一系列构成互联网基础的网络协议，是internet的核心协议
    基于tcp/ip模型将协议分为5个层次，他们分别是应用层，传输层，网络层，链路层，和物理层

2.链路层
    寻址所用的标识是mac地址

3.网络层
    Ip是一种不可靠的传输协议，所以的数据的可靠检测都是由上层协议来实现包括TCP/UDP
    32位的ip地址分为网络位和地址
    ip协议头有20个字节，包括32位的源ip地址和32位的目标ip地址，还有一个比较重要的就是8位的ttl生存时间

    8位的ttl字段规定数据包在穿过多少个路由之后会被抛弃，该字段的最大值是225，根据系统的不同
    该数字也不一样，一般是32或者64

    ARP协议是ip地址获取mac地址的一种协议
    arp协议是一种解析协议，当ip要发送一个ip包的时候，要首先检查自己的ip-mac地址的缓存表
    如果查询不到ip-mac，就像网络发送一个ARP协议广播包，如果这个广播包里面有待查询的ip地址，
    那么所有收到这份广播包的主机都会查询自己的ip地址，如果发现自己符合条件，就返回包含mac的arp包给主机
    然后主机将更新自己的ip-mac缓存。

    icmp协议
    ip协议并不是一个可靠的协议，那么保送数据送达的工作应该有其他模块来完成
    当ip包错误的时候，icmp会将错误信息传送回主机，给主机一个处理机会，所以建立在ip层上的协议能做到安全的原因
    ping可以说是icmp最著名的应用

4.传输层
    TCP/UDP 是传输层的协议，但两者具备有不同的特性。
    TCP是可靠的面向连接。应用的一些应用 http，ftp，dns

    DNS，因特网上作为域名和ip地址互相映射的一个分布式数据库，能够使用户更方便的访问互联网
    DNS运行在udp上面，端口号是53

    三次握手
    Tcp是面向连接的，所以在发送数据之前，都必须建立一条连接
    在tcp/ip协议，tcp协议提供可靠的服务，连接是通过三次握手来进行初始化的，三次握手的目的
    是同步连接双方的序列号和确认号，并交换TCP窗口大小的信息。
    第一次握手，客户端发送请求报文，将syn置为1，序列号设为x，然后客户端进入syn_send状态，等待服务器的确认
    第二次握手，服务器收到syn报文段，需要对sym报文段进行确认，设置ack为x+1，同时自己还要发送syn请求信息
    将syn为1，发回一个syn+ack+sqe给客户端，此时服务器进入syn_recv状态
    第三次握手，客户端收到syn+ack 然后将ack设为Y+1，向服务器发送ack报文段，然后进入连接建立状态

    如果客户端的第一次请求经过网路延迟很久才达到服务器，服务器以为要建立连接，然后就向客户端发送确认
    结果客户端并没有发出连接请求，那么这个连接将白白的浪费资源

    四次握手
    第一次分手，主机一发送seq+fin=1给主机2，主机1进入fin_wait状态
    第二次分手，主机2收到了主机1发送的fin报文段，返回ack+seq 主机1进入fin_wait2状态
    第三次分手，主机2向主机1发送fin，主机2进入last_ack状态
    第四次分手，主机1收到主机2发送的fin报文段，向主机2发送ack，然后主机1进入time_wait,
    主机2关闭连接，主机1等待2msl后，关闭连接

    为什么要等待2msl
    报文段最大的生存时间，他是任何报文段被丢弃前在网络内的最长时间
    1.保证tcp协议全双工连接能够可靠关闭
    2.保证这次连接的重复数据段从网络消失

    第一点如果主机1直接关闭，由于网络问题导致主机2没有收到确认关闭ack，那么将会继续发送fin，这样主机1
    就找不到对应的连接，导致主机2无法正确关闭
    第二点如果主机1直接关闭，然后又向主机2发送一个新连接，我们不能保证新连接和刚才那个关闭的连接的端口号是不同的

5.TCP的流量控制
    如果发送方把数据发送的过快，接收方可能会来不及接收，这就会造成数据的丢失，所以流畅控制就是让
    发送方不要太快，接收方来得及接受
    接收方在确认的时候，将大写ACK设为1，然后小写ack则是接受序列，并告诉窗口的大小

    TCP每一个连接都有一个计时器，只要tcp一方接收到对方的零窗口通知，就启动计时器，若计时器设置时间
    到期，就发送一个零窗口控测报文，那么收到这个报文段的一方就重新设置计时器

